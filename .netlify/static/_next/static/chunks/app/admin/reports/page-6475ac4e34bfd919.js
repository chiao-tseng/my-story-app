(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[618],{3591:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(5155),n=t(2115);function a(){let[e,s]=(0,n.useState)([]),[t,a]=(0,n.useState)(!0),[c,d]=(0,n.useState)("pending");async function i(){try{let e=await fetch("/api/admin/reports?status=".concat(c),{cache:"no-store"});if(e.ok){let t=await e.json();s(t.reports||[])}}catch(e){console.error("載入檢舉失敗:",e)}finally{a(!1)}}return(0,n.useEffect)(()=>{i()},[c]),(0,r.jsxs)("main",{className:"mx-auto max-w-5xl px-6 py-10",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"檢舉管理"}),(0,r.jsx)("div",{className:"flex gap-2 mb-4",children:["pending","processed","dismissed"].map(e=>(0,r.jsx)("button",{onClick:()=>d(e),className:"px-3 py-1.5 rounded ".concat(c===e?"bg-black text-white":"border"),children:"pending"===e?"待處理":"processed"===e?"已處理":"已駁回"},e))}),t&&(0,r.jsx)("div",{children:"載入中…"}),(0,r.jsxs)("div",{className:"space-y-4",children:[e.map(e=>(0,r.jsxs)("div",{className:"border rounded-xl p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleString()}),(0,r.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("pending"===e.status?"bg-amber-100 text-amber-700":"processed"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:"pending"===e.status?"待處理":"processed"===e.status?"已處理":"已駁回"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"檢舉原因："}),e.reason]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"聯絡方式："}),e.reporterContact]}),e.storyId&&(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"故事ID："}),e.storyId]}),e.description&&(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"詳細說明："}),e.description]})]})]},e.id)),!t&&0===e.length&&(0,r.jsx)("div",{className:"text-gray-500",children:"沒有檢舉資料。"})]})]})}},9914:(e,s,t)=>{Promise.resolve().then(t.bind(t,3591))}},e=>{e.O(0,[441,255,358],()=>e(e.s=9914)),_N_E=e.O()}]);