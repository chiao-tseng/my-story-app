(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{63:(e,r,t)=>{"use strict";var a=t(7260);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},2450:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var a=t(5155),s=t(63),n=t(2115);function l(){let e=(0,s.useSearchParams)().get("storyId")||"",[r,t]=(0,n.useState)(!1);async function l(r){r.preventDefault(),t(!0);let a=new FormData(r.currentTarget),s={storyId:e||a.get("storyId"),reporterContact:a.get("reporterContact"),reason:a.get("reason"),description:a.get("description")};try{(await fetch("/api/reports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok?(alert("檢舉已送出，我們會盡快處理。"),window.location.href="/stories"):alert("檢舉送出失敗，請稍後再試。")}catch(e){alert("檢舉送出失敗，請稍後再試。")}finally{t(!1)}}return(0,a.jsxs)("main",{className:"mx-auto max-w-3xl px-6 py-10",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"檢舉內容"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"如果您發現不當內容，請填寫以下表單進行檢舉。我們會盡快處理您的檢舉。"}),(0,a.jsxs)("form",{onSubmit:l,className:"space-y-4",children:[(0,a.jsx)("input",{name:"storyId",defaultValue:e,placeholder:"（可選）故事ID",className:"w-full border p-3 rounded-lg"}),(0,a.jsx)("input",{name:"reporterContact",required:!0,placeholder:"您的聯絡方式（Email、電話等）",className:"w-full border p-3 rounded-lg"}),(0,a.jsxs)("select",{name:"reason",required:!0,className:"w-full border p-3 rounded-lg",children:[(0,a.jsx)("option",{value:"",children:"請選擇檢舉原因"}),(0,a.jsx)("option",{value:"不當內容",children:"不當內容"}),(0,a.jsx)("option",{value:"人身攻擊",children:"人身攻擊"}),(0,a.jsx)("option",{value:"虛假資訊",children:"虛假資訊"}),(0,a.jsx)("option",{value:"侵犯隱私",children:"侵犯隱私"}),(0,a.jsx)("option",{value:"其他",children:"其他"})]}),(0,a.jsx)("textarea",{name:"description",rows:4,placeholder:"詳細說明（可選）",className:"w-full border p-3 rounded-lg"}),(0,a.jsx)("button",{disabled:r,type:"submit",className:"w-full rounded-xl bg-red-600 text-white py-3",children:r?"送出中…":"送出檢舉"})]})]})}function o(){return(0,a.jsx)(n.Suspense,{fallback:(0,a.jsx)("div",{children:"載入中..."}),children:(0,a.jsx)(l,{})})}},5989:(e,r,t)=>{Promise.resolve().then(t.bind(t,2450))}},e=>{e.O(0,[441,255,358],()=>e(e.s=5989)),_N_E=e.O()}]);